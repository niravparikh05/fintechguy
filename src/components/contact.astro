
---
import { supabase } from "../../lib/supabaseClient";

  async function handleSubmit(event) {
    const form = event.target;
    const { error } = await supabase.from('contacts').insert([{
      name: form.name.value,
      email: form.email.value,
      message: form.message.value,
    }]);
    if (error) alert('Error submitting form');
    else alert('Submitted!');
  }
---

<form on:submit|preventDefault={handleSubmit}>
  <input type="text" name="name" placeholder="Your name" required />
  <input type="email" name="email" placeholder="Your email" required />
  <textarea name="message" placeholder="Message" required></textarea>
  <button type="submit">Submit</button>
</form>